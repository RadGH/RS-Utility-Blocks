(()=>{"use strict";var e={n:t=>{var i=t&&t.__esModule?()=>t.default:()=>t;return e.d(i,{a:i}),i},d:(t,i)=>{for(var l in i)e.o(i,l)&&!e.o(t,l)&&Object.defineProperty(t,l,{enumerable:!0,get:i[l]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const t=window.React,i=window.wp.components,l=function(e){return void 0===e?e="":Array.isArray(e)?e=e.join(" "):"string"!=typeof e&&(e=""),""!==e&&(e=(e=e.replace(/  +/g," ")).trim()),e},n=function(e){let t;return t="string"==typeof(e=l(e))?e.split(" "):"object"==typeof e?e:[],t&&t.filter((e=>""!==e.trim())),t},r=function(e,t,i=null){return null===i?n(e).includes(t):o(e,i)===t},o=function(e,t){let i=n(e),l=!1,r=!1;return t.forEach((e=>{e.value?i.includes(e.value)&&(l=e.value):r=!0})),!l&&r?"":l},a=function(e,t){return e=l(e),r(e,t)||(e&&(e+=" "),e+=t),e},d=function(e,t){return e=l(e),n(e).forEach((i=>{i===t&&(e=e.replace(i,""))})),l(e)},u=function(e,t,i=null){if(null!==i&&!r(e,i))return!1;let l=n(e),o=[];return l.forEach((e=>{t.forEach((t=>{e===t.value&&o.push(e)}))})),o},s=window.wp.domReady;var c=e.n(s);const f=window.wp.compose,h=window.wp.hooks,p=window.wp.blockEditor,b=window.wp.element;c()((()=>{const e=(0,f.createHigherOrderComponent)((e=>{const n=[{value:"hide-always",label:"Hide everywhere",exclude:[]},{value:"hide-on-mobile",label:"Hide on mobile",exclude:["hide-on-desktop"]},{value:"hide-on-desktop",label:"Hide on desktop",exclude:["hide-on-mobile"]},{value:"hide-if-logged-in",label:"Hide if logged in",exclude:["hide-if-not-logged-in"]},{value:"hide-if-not-logged-in",label:"Hide if logged not logged in",exclude:["hide-if-logged-in"]},{value:"hide-if-user-admin",label:"Hide for admins",exclude:["hide-if-user-not-admin"]},{value:"hide-if-user-not-admin",label:"Hide for non-admins",exclude:["hide-if-user-admin"]}];return o=>{const{name:s,setAttributes:c,isSelected:f}=o;let h=o.attributes.className||"",g=u(h,n).length>0;return(0,t.createElement)(b.Fragment,null,(0,t.createElement)(e,{...o}),(0,t.createElement)(p.InspectorControls,null,f&&(0,t.createElement)(i.PanelBody,{title:"Visibility",initialOpen:g},function(e,n,o="",s=""){let c=[];return n.forEach((f=>{let h=f.value,p=h,b=f.label,g=f.exclude||[];c.push((0,t.createElement)(i.ToggleControl,{label:b,checked:r(e.attributes.className,h),onChange:t=>{let i=l(e.attributes.className);if(t?(i=a(i,p),g.length&&g.forEach((e=>{i=d(i,e)}))):i=d(i,p),o||s){let e=u(i,n);o&&(i=e.length?a(i,o):d(i,o)),s&&(i=e.length>1?a(i,s):d(i,s))}e.setAttributes({className:i})}}))})),c}(o,n,"has-visibility","has-multiple-visibility"))))}}),"registerVisibilityField");(0,h.addFilter)("editor.BlockEdit","rs_utility_blocks/register_visibility_field",e,30)})),c()((()=>{jQuery(document).on("ajaxSend",(function(e,t,i){let l=i.data||"";if(!l||-1===l.indexOf("acf%2Fajax%2Ffetch-block"))return;if(!l||-1===l.indexOf("block=%7B%22name%22%3A%22rs-utility-blocks"))return;let n=function(){let e=wp.data.select("core/editor");if(!e)return!1;let t=e.getEditedPostAttribute("type");if("wp_template"===t){let i=e.getEditedPostAttribute("slug");i.startsWith("single-")?t=i.replace("single-",""):i.startsWith("archive-")&&(t=i.replace("archive-",""))}return t}();i.data+="&rsub_template_post_type="+n}))}))})();